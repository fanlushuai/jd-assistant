#!/usr/bin/env python
# -*- coding:utf-8 -*-
import time
from jd_assistant import Assistant

if __name__ == '__main__':
    """
    é‡è¦æç¤ºï¼šæ­¤å¤„ä¸ºç¤ºä¾‹ä»£ç ä¹‹ä¸€ï¼Œè¯·ç§»æ­¥ä¸‹é¢çš„é“¾æ¥æŸ¥çœ‹ä½¿ç”¨æ•™ç¨‹ğŸ‘‡
    https://github.com/tychxn/jd-assistant/wiki/1.-%E4%BA%AC%E4%B8%9C%E6%8A%A2%E8%B4%AD%E5%8A%A9%E6%89%8B%E7%94%A8%E6%B3%95
    """

    # æŠ¢è´­é€šç”¨é…ç½®
    sku_id = '100015521004'  # å•†å“id
    buy_time = '2020-12-04 14:59:59.950'  # å¼€å§‹æŠ¢è´­æ—¶é—´ï¼Œæ ¼å¼ï¼š'2020-11-28 12:59:59.950'ï¼Œå»ºè®®è®¾ç½®æå‰0.050ç§’ï¼Œå¦‚æœç½‘ç»œæ…¢å¯æ ¹æ®è‡ªå·±ç½‘ç»œæƒ…å†µé€‚å½“ä¿®æ”¹
    retry = 5  # æŠ¢è´­é‡å¤æ‰§è¡Œæ¬¡æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤4æ¬¡
    interval = 0.01  # æŠ¢è´­æ‰§è¡Œé—´éš”ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤4ç§’
    num = 1  # è´­ä¹°æ•°é‡ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤1ä¸ª
    sleep_interval = 0.5  # æŠ¢è´­å‰å€’è®¡æ—¶è½®è¯¢æ—¶é—´ï¼Œé»˜è®¤0.5ç§’
    fast_sleep_interval = 0.01  # æŠ¢è´­5ç§’å†…å€’è®¡æ—¶è½®è¯¢æ—¶é—´ï¼Œé»˜è®¤0.01ç§’

    # é…ç½®ã€é¢„çº¦æŠ¢è´­ï¼Œè‡ªåŠ¨åŠ å…¥è´­ç‰©è½¦ã€‘
    is_pass_cart = True  # æ˜¯å¦è·³è¿‡æ·»åŠ è´­ç‰©è½¦ï¼Œé»˜è®¤True


    # é…ç½®ã€é¢„çº¦æŠ¢è´­ï¼Œä¸ä¼šè‡ªåŠ¨åŠ å…¥è´­ç‰©è½¦ã€‘
    # area = '19_1607_3155_62117'  # åŒºåŸŸid
    # sku_buy_time = '2020-12-04 15:00:00.000'  # å•†å“æŠ¢è´­æ—¶é—´
    # buy_time = None  # å¼€å§‹æŠ¢è´­æ—¶é—´ï¼Œé»˜è®¤ä¸ºNoneï¼Œè‡ªåŠ¨æå‰0.050ç§’ï¼Œç½‘ç»œé€šç•…æ—¶ä¸éœ€è¦ä¿®æ”¹ï¼Œå¦‚æœç½‘ç»œæ…¢å¯æ ¹æ®è‡ªå·±æƒ…å†µé€‚å½“ä¿®æ”¹ï¼Œæ ¼å¼ï¼š'2020-11-28 12:59:59.950'
    # fast_mode = True  # å¿«é€Ÿæ¨¡å¼ï¼šç•¥è¿‡è®¿é—®æŠ¢è´­è®¢å•ç»“ç®—é¡µé¢è¿™ä¸€æ­¥éª¤ï¼Œé»˜è®¤ä¸º True


    asst = Assistant()  # åˆå§‹åŒ–
    asst.login_by_QRcode()  # æ‰«ç ç™»é™†


    # æ‰§è¡Œã€é¢„çº¦æŠ¢è´­ï¼Œè‡ªåŠ¨åŠ å…¥è´­ç‰©è½¦ã€‘ ä¸€å®šè¦ç¡®ä¿é¢„çº¦çš„å•†å“åœ¨è´­ç‰©è½¦ä¸­æ‰èƒ½ä½¿ç”¨è¿™ç§æ–¹å¼ï¼ï¼ï¼å¦åˆ™åªèƒ½ç”¨å…¶ä»–æ–¹å¼
    asst.exec_reserve_seckill_by_time(sku_id=sku_id, buy_time=buy_time, retry=retry, interval=interval, num=num, is_pass_cart=is_pass_cart, sleep_interval=sleep_interval, fast_sleep_interval=fast_sleep_interval)


    # æ‰§è¡Œã€é¢„çº¦æŠ¢è´­ï¼Œä¸ä¼šè‡ªåŠ¨åŠ å…¥è´­ç‰©è½¦ã€‘
    # asst.exec_seckill_by_time(sku_ids=sku_id, buy_time=buy_time, sku_buy_time=sku_buy_time, retry=retry, interval=interval, num=num, fast_mode=fast_mode, sleep_interval=sleep_interval, fast_sleep_interval=fast_sleep_interval)















    # æ ¹æ®å•†å“æ˜¯å¦æœ‰è´§è‡ªåŠ¨ä¸‹å•
    # 6ä¸ªå‚æ•°ï¼š
    # sku_ids: å•†å“idã€‚å¯ä»¥è®¾ç½®å¤šä¸ªå•†å“ï¼Œä¹Ÿå¯ä»¥å¸¦æ•°é‡ï¼Œå¦‚ï¼š'1234' æˆ– '1234,5678' æˆ– '1234:2' æˆ– '1234:2,5678:3'
    # area: åœ°åŒºid
    # wait_all: æ˜¯å¦ç­‰æ‰€æœ‰å•†å“éƒ½æœ‰è´§æ‰ä¸€èµ·ä¸‹å•ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤False
    # stock_interval: æŸ¥è¯¢åº“å­˜æ—¶é—´é—´éš”ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤3ç§’
    # submit_retry: æäº¤è®¢å•å¤±è´¥åé‡è¯•æ¬¡æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤3æ¬¡
    # submit_interval: æäº¤è®¢å•å¤±è´¥åé‡è¯•æ—¶é—´é—´éš”ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤5ç§’
